<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<script src="https://code.jquery.com/jquery-3.4.1.js"></script>
<script language="javascript">
  function init() {
     $.ajax({
         type : "GET",
         url : "http://localhost:8080/searchExistViewId",
         contentType: "application/json",
         dataType: "json",
         success : function (data, status) {
            var items = '';
            $.each(data, function (i, item) {
                var rows = "<tr>"
                + "<td>" + item.viewId + "</td>"
                + "<td>" + item.remark + "</td>"
                + "</tr>";
                $('#existViewId').append(rows);
            });
         },
         error : function (status) {
            alert(status + "error!");
         }
     });
  }
</script>
<style>
    table {
        border: 1px solid #444444;
        border-collapse: collapse;
    }
    th, td {
        border: 1px solid #444444;
    }
</style>
<head>
    <meta charset="UTF-8">
    <title>Analytics Report</title>

    <div class="container">
        <form action="/connect" method="post">
            <div class="form-group">
                <label for="viewId">구글 애널리틱스 VIEW_ID를 입력하세요</label><br>
                <input type="text" id="viewId" name="viewId">
                <button type="submit">연결</button>
            </div>
        </form><br>
    </div>

</head>
<body onload="init();">
    <table id="existViewId">
        <thead>
        <tr>
            <th>VIEW ID</th>
            <th>비고</th>
        </tr>
        </thead>
        <tbody>
        </tbody>
    </table>
</body>
</html>